[{"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\index.js":"1","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\App.js":"3","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\frontpage.js":"4","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\queries.js":"5","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\searchDropDown.js":"6","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\schoolFrontPage.js":"7","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\ListingTable.js":"8","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\UserWindow.js":"9","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\LoginForm.js":"10","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\NewListingsForm.js":"11"},{"size":1095,"mtime":1608195486155,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":967,"mtime":1608119859020,"results":"15","hashOfConfig":"13"},{"size":312,"mtime":1608063069589,"results":"16","hashOfConfig":"13"},{"size":1071,"mtime":1608048489799,"results":"17","hashOfConfig":"13"},{"size":858,"mtime":1608056048788,"results":"18","hashOfConfig":"13"},{"size":2144,"mtime":1608195470332,"results":"19","hashOfConfig":"13"},{"size":3844,"mtime":1608120201544,"results":"20","hashOfConfig":"13"},{"size":1385,"mtime":1608117987190,"results":"21","hashOfConfig":"13"},{"size":1368,"mtime":1608191799115,"results":"22","hashOfConfig":"13"},{"size":1519,"mtime":1608195662776,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1jogd51",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\index.js",[],["52","53"],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\App.js",[],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\frontpage.js",[],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\queries.js",[],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\searchDropDown.js",["54"],"import React, { useState } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete'\r\n\r\nconst SearchDropDown = ({ options, onChangeFunction }) => {\r\n  const [value, setValue] = useState('')\r\n  \r\n  return (\r\n    <div className='search-box'>\r\n      <div>\r\n        <Autocomplete\r\n          onChange={(event, newValue) => {\r\n            setValue(newValue)\r\n            onChangeFunction(newValue)\r\n          }}\r\n          options={options}\r\n          getOptionLabel={(option) => option.name}\r\n          margin='normal'\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label='Etsi ja valitse koulu'\r\n              variant='outlined'\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchDropDown\r\n","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\schoolFrontPage.js",["55","56","57","58"],"import React, { useEffect, useState } from 'react'\r\nimport { useQuery } from '@apollo/client'\r\nimport { ALL_LISTINGS } from './queries.js'\r\nimport { CircularProgress, Fab, Grid, Typography } from '@material-ui/core'\r\nimport ListingTable from './ListingTable'\r\nimport { useHistory } from 'react-router-dom'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport UserWindow from './UserWindow.js'\r\nimport { ME } from './queries.js'\r\nimport NewListingForm from './NewListingsForm.js'\r\n\r\nconst SchoolFrontPage = () => {\r\n  const history = useHistory()\r\n  const School = localStorage.getItem('KirjaKirppis-school')\r\n  const token = localStorage.getItem('KirjaKirppis-user-token')\r\n  const result = useQuery(ALL_LISTINGS, {\r\n    variables: { school: `${School}` },\r\n  })\r\n  const userResult = useQuery(ME)\r\n\r\n  if (userResult.loading) {\r\n    return (\r\n      <>\r\n        <CircularProgress />\r\n      </>\r\n    )\r\n  }\r\n  const user = userResult.data.me\r\n  if (result.loading) {\r\n    return (\r\n      <>\r\n        <CircularProgress />\r\n      </>\r\n    )\r\n  }\r\n\r\n  const allListings = result.data.allListings\r\n  console.log(allListings)\r\n  return (\r\n    <div>\r\n      <Grid container direction='row' justify='center'spacing={1}>\r\n        <Grid item>\r\n          <Typography variant='h3'>{School}</Typography>\r\n          <button\r\n            onClick={() => {\r\n              window.localStorage.removeItem('KirjaKirppis-school')\r\n              history.push('/')\r\n            }}\r\n          >\r\n            removeschool\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={9}>\r\n          <ListingTable data={allListings} />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Grid container justify='center' direction='column' spacing={1}>\r\n            <Grid item>\r\n              <UserWindow token={token} user={user} />\r\n            </Grid>\r\n            <Grid item>\r\n              {user.school===School ? <NewListingForm user={user} /> :<Typography variant=\"subtitle1\">Voit luoda listauksia vain omaan kouluusi</Typography>}\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SchoolFrontPage\r\n","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\ListingTable.js",[],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\UserWindow.js",["59"],"import {\r\n  Container,\r\n  Paper,\r\n  Grid,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  TableContainer,\r\n} from '@material-ui/core'\r\nimport React from 'react'\r\nimport LoginForm from './LoginForm.js'\r\nimport FaceOutlinedIcon from '@material-ui/icons/FaceOutlined'\r\n\r\nconst UserWindow = ({ token, user }) => {\r\n  if (!token) {\r\n    return (\r\n      <Container component={Paper}>\r\n        <LoginForm />\r\n      </Container>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container component={Paper} align='center'>\r\n      <Grid container justify='center'>\r\n        <FaceOutlinedIcon fontSize='large' />\r\n        <TableContainer>\r\n          <Table size='small'>\r\n            <TableBody>\r\n              <TableRow>\r\n                <TableCell align='center'> {user.name} </TableCell>\r\n                <TableCell align='center'> {user.username}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell align='center'>{user.phonenumber}</TableCell>\r\n                <TableCell align='center'>{user.email}</TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Grid>\r\n      <button\r\n        onClick={() => {\r\n          localStorage.removeItem('KirjaKirppis-user-token')\r\n        }}\r\n      >\r\n        kirjaudu ulos\r\n      </button>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default UserWindow\r\n","C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\LoginForm.js",["60","61"],"import { Button, Grid, TextField, Typography } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useMutation } from '@apollo/client'\r\nimport { LOGIN } from './queries'\r\n\r\nconst LoginForm = () => {\r\n  const [login, { result }] = useMutation(LOGIN)\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n    const username = event.target.username.value\r\n    const password = event.target.password.value\r\n    const data = await login({\r\n      variables: {\r\n        username,\r\n        password,\r\n      },\r\n    })\r\n    if (data.error) {\r\n      console.log(data.error)\r\n    }\r\n\r\n    if (data.data.login) {\r\n      const { token, username, id } = data.data.login\r\n      console.log(username, id)\r\n      localStorage.setItem('KirjaKirppis-user-token', token)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Grid container justify='center' direction='column'>\r\n        <TextField id='username' label='Käyttäjänimi' variant='outlined' style={{ padding: 2 }}/>\r\n        <TextField\r\n          id='password'\r\n          label='Salasana'\r\n          variant='outlined'\r\n          type='password'\r\n          style={{ padding: 2 }}\r\n        />\r\n        <Button type='submit' style={{ padding: 2 }} variant='outlined'>\r\n          Kirjaudu sisään\r\n        </Button>\r\n      </Grid>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n",["62","63"],"C:\\Users\\ratya\\Documents\\GitHub\\KirjaKirppis\\kirjakirppis\\frontend\\src\\components\\NewListingsForm.js",[],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":6,"column":10,"nodeType":"70","messageId":"71","endLine":6,"endColumn":15},{"ruleId":"68","severity":1,"message":"72","line":1,"column":17,"nodeType":"70","messageId":"71","endLine":1,"endColumn":26},{"ruleId":"68","severity":1,"message":"73","line":1,"column":28,"nodeType":"70","messageId":"71","endLine":1,"endColumn":36},{"ruleId":"68","severity":1,"message":"74","line":4,"column":28,"nodeType":"70","messageId":"71","endLine":4,"endColumn":31},{"ruleId":"68","severity":1,"message":"75","line":7,"column":8,"nodeType":"70","messageId":"71","endLine":7,"endColumn":15},{"ruleId":"68","severity":1,"message":"76","line":6,"column":3,"nodeType":"70","messageId":"71","endLine":6,"endColumn":12},{"ruleId":"68","severity":1,"message":"77","line":1,"column":35,"nodeType":"70","messageId":"71","endLine":1,"endColumn":45},{"ruleId":"68","severity":1,"message":"78","line":7,"column":19,"nodeType":"70","messageId":"71","endLine":7,"endColumn":25},{"ruleId":"64","replacedBy":"79"},{"ruleId":"66","replacedBy":"80"},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"no-unused-vars","'value' is assigned a value but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.","'Fab' is defined but never used.","'AddIcon' is defined but never used.","'TableHead' is defined but never used.","'Typography' is defined but never used.","'result' is assigned a value but never used.",["81"],["82"],"no-global-assign","no-unsafe-negation"]